@model RegistrationViewModel
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Registration | WebDesk Account</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/Template/css/vendor.min.css">
    <link rel="stylesheet" href="~/Template/css/theme.minc619.css?v=1.0">
    <link rel="preload" href="~/Template/css/theme.min.css" data-hs-appearance="default" as="style">
    <link rel="preload" href="~/Template/css/theme-dark.min.css" data-hs-appearance="dark" as="style">
    <link href="~/lib/notyf/notyf.min.css" rel="stylesheet" />
</head>

<body class="">
    <script src="~/Template/js/hs.theme-appearance.js"></script>
    <script src="~/Template/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js"></script>

    @await Html.PartialAsync("_NotificationPartial")

    <!-- Display the list of validation errors -->
    @if (!ViewData.ModelState.IsValid)
    {
        foreach (var state in ViewData.ModelState)
        {
            if (state.Value.Errors.Count > 0)
            {
                foreach (var error in state.Value.Errors)
                {
                    <script>
                        notyf.error({
                            message: '@error.ErrorMessage',
                            duration: 10000 // 10 seconds
                        });
                    </script>
                }
            }
        }
    }

    <main id="content" class="main pt-0">
        <div class="container-fluid">
            <form enctype="multipart/form-data"
                  asp-area="Registration"
                  asp-controller="Registration"
                  asp-action="Index"
                  method="post"
                  class="js-step-form-validate js-validate"
                  data-hs-step-form-options='{
          "progressSelector": "#addUserStepFormProgress",
          "stepsSelector": "#addUserStepFormContent",
          "endSelector": "#addUserFinishBtn",
          "isValidate": true
      }'>
            <div class="row justify-content-lg-center">
                <!-- ==============================-->
                <!-- ======== Left Side ===========-->
                <!-- ==============================-->
                <div class="col-lg-5 d-none d-lg-flex justify-content-center align-items-center min-vh-lg-100 position-relative bg-light px-0">
                    <div class="position-absolute top-0 start-0 end-0 mt-5 mx-5">
                        <div class="d-none d-lg-flex justify-content-between">
                            <a href="index.html">
                                <img class="w-100" src="~/uploads/ProjectIcon/logo3.jpg" alt="Image Description" data-hs-theme-appearance="default" style="min-width: 9rem; max-width: 8rem;">
                            </a>
                        </div>
                    </div>
                    <div style="max-width: 23rem;">
                            <div class="text-center mb-5 mt-0 pt-0" style="margin-top:15px">
                            <img class="img-fluid" src="~/uploads/ProjectIcon/signupVector1.jpg" alt="Image Description" style="width: 20rem;" data-hs-theme-appearance="default">
                        </div>
                        <div class="mb-5">
                            <h2 class="display-5">Build digital products with:</h2>
                        </div>
                        <ul class="list-checked list-checked-lg list-checked-primary list-py-2">
                            <li class="list-checked-item">
                                <span class="d-block fw-semibold mb-1">All-in-one tool</span>
                                Build, run, and scale your apps - end to end
                            </li>

                            <li class="list-checked-item">
                                <span class="d-block fw-semibold mb-1">Easily add &amp; manage your services</span>
                                It brings together your tasks, projects, timelines, files and more
                            </li>
                        </ul>
                        @* <div class="row justify-content-between mt-5 gx-3">
                            <div class="col">
                                <img class="img-fluid" src="~/Template/svg/brands/gitlab-gray.svg" alt="Logo">
                            </div>
                            <div class="col">
                                <img class="img-fluid" src="~/Template/svg/brands/fitbit-gray.svg" alt="Logo">
                            </div>
                            <div class="col">
                                <img class="img-fluid" src="~/Template/svg/brands/flow-xo-gray.svg" alt="Logo">
                            </div>
                            <div class="col">
                                <img class="img-fluid" src="~/Template/svg/brands/layar-gray.svg" alt="Logo">
                            </div>
                        </div> *@
                    </div>
                </div>

                <!-- ==============================-->
                <!-- ======== Right Side ==========-->
                <!-- ==============================-->
                <div class="col-lg-7 px-4 pt-5 pe-5">
                    <!--=====================-->
                    <!-- Step -->
                    <!--=====================-->
                    <ul id="addUserStepFormProgress"
                        class="js-step-progress step step-sm step-icon-sm step step-inline step-item-between mb-3 mb-md-5">
                        <li class="step-item">
                            <a class="step-content-wrapper" href="javascript:;" data-hs-step-form-next-options='{
                            "targetSelector": "#Tenant"
                            }'>
                                <span class="step-icon step-icon-soft-dark">1</span>
                                <div class="step-content">
                                    <span class="step-title">SignUp Detail</span>
                                </div>
                            </a>
                        </li>

                        <li class="step-item">
                            <a class="step-content-wrapper" href="javascript:;" data-hs-step-form-next-options='{
                            "targetSelector": "#RegisterCompany"
                            }'>
                                <span class="step-icon step-icon-soft-dark">2</span>
                                <div class="step-content">
                                    <span class="step-title">Company Detail</span>
                                </div>
                            </a>
                        </li>
                    </ul>

                    <!--=====================-->
                    <!-- Content Step Form -->
                    <!--=====================-->
                    <div id="addUserStepFormContent">
                        <!--=====================-->
                        <!--= Tenant =-->
                        <!--=====================-->
                        <div id="Tenant" class="card card-lg active">
                            <!-- Body -->
                            <div class="card-body">
                                <div class="row mb-4">
                                    <label class="col-sm-3 col-form-label form-label">Logo</label>
                                    <div class="col-sm-9">
                                        <div class="d-flex align-items-center">
                                            <!-- Avatar -->
                                            <label class="avatar avatar-xl avatar-circle avatar-uploader me-5" for="avatarUploader">
                                                <img id="avatarImg" class="avatar-img" src="~/Template/img/160x160/img1.jpg" alt="Image Description">
                                                    <input type="file" asp-for="CompanyDto.CompanyImageForSave" class="js-file-attach avatar-uploader-input" id="avatarUploader" data-hs-file-attach-options='{
                                                    "textTarget": "#avatarImg",
                                                    "mode": "image",
                                                    "targetAttr": "src",
                                                    "resetTarget": ".js-file-attach-reset-img",
                                                    "resetImg": "./~/Template/img/160x160/img1.jpg",
                                                    "allowTypes": [".png", ".jpeg", ".jpg"]
                                                  }'>
                                                <span class="avatar-uploader-trigger">
                                                    <i class="bi-pencil avatar-uploader-icon shadow-sm"></i>
                                                </span>
                                            </label>
                                            <button type="button" class="js-file-attach-reset-img btn btn-white">Delete</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="firstNameLabel" class="col-sm-3 col-form-label form-label">Name <i class="bi-question-circle text-body ms-1" data-bs-toggle="tooltip" data-bs-placement="top" title="Displayed on public forums, such as Front."></i></label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" asp-for="TenantDto.TenantName" id="firstNameLabel" placeholder="First Name" aria-label="Clarice" required data-msg="Please enter your username.">
                                        <span class="invalid-feedback" asp-validation-for="TenantDto.TenantName">FullName Required</span>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="emailLabel" class="col-sm-3 col-form-label form-label">Email</label>
                                    <div class="col-sm-9">
                                        <input type="email" class="form-control" asp-for="TenantDto.TenantEmail" id="emailLabel" placeholder="clarice@site.com" aria-label="clarice@site.com" required>
                                        <span class="invalid-feedback">Email Required</span>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="phoneLabel" class="col-sm-3 col-form-label form-label">Phone</label>
                                    <div class="col-sm-9">
                                        <input type="text" asp-for="ApplicationUserDto.PhoneNumber" class="form-control" placeholder="phoneNumber">
                                    </div>
                                </div>

                                <br />
                                <!-- ApplicationUser Information -->
                                <div class="row mb-4">
                                    <label for="UserNameLabel" class="col-sm-3 col-form-label form-label">User Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" asp-for="ApplicationUserDto.UserName" placeholder="test@gmail.com" required>
                                        <span class="invalid-feedback">UserName Required</span>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="passwordLabel" class="col-sm-3 col-form-label form-label">
                                        Password
                                        <i class="bi-question-circle text-body ms-1" data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Your password must include at least: 1 lowercase letter, 1 uppercase letter, 1 number, and a special character (e.g., #, ., !)">
                                        </i>
                                    </label>
                                    <div class="col-sm-9">
                                        <div class="d-flex flex-row">
                                            <div class="justify-content-start w-100">
                                                <input asp-for="ApplicationUserDto.Password" type="password" class="form-control js-toggle-password  w-100" placeholder="Password" required data-hs-toggle-password-options='{
                                                    "target": "#changePassTarget",
                                                    "defaultClass": "bi-eye-slash",
                                                    "showClass": "bi-eye",
                                                    "classChangeTarget": "#changePassIcon"
                                                }'>
                                                <span class="invalid-feedback">Password Required</span>
                                            </div>
                                            <div class="justify-content-end">
                                                <a id="changePassTarget" class="input-group-append input-group-text" href="javascript:void(0);">
                                                    <i id="changePassIcon" class="bi-eye"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            
                            <!-- Footer -->
                            <div class="card-footer d-flex justify-content-end align-items-center">
                                <button type="button" class="btn btn-primary" data-hs-step-form-next-options='{"targetSelector": "#RegisterCompany"}'>
                                    Next <i class="bi-chevron-right"></i>
                                </button>
                            </div>
                        </div>

                        <!--=====================-->
                        <!--= Registration =-->
                        <!--=====================-->
                        <div id="RegisterCompany" class="card card-lg" style="display: none;">
                            <!-- Body -->
                            <div class="card-body">
                                <div class="row mb-4">
                                    <label for="companyNameLabel" class="col-sm-3 col-form-label form-label">Company Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" asp-for="CompanyDto.Name" placeholder="Enter company name" aria-label="Company Name" required>
                                        <span class="text-danger" asp-validation-for="CompanyDto.Name"></span>
                                    </div>
                                </div>

                                <div class="row mb-4">
                                    <label for="companyEmailLabel" class="col-sm-3 col-form-label form-label">Email</label>
                                    <div class="col-sm-9">
                                        <input type="email" class="form-control" asp-for="CompanyDto.Email" placeholder="Enter company email" aria-label="Email" required>
                                        <span class="text-danger" asp-validation-for="CompanyDto.Email"></span>
                                    </div>
                                </div>

                                <div class="row mb-4">
                                    <label for="companyWebsiteLabel" class="col-sm-3 col-form-label form-label">Website</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" asp-for="CompanyDto.Website" placeholder="Enter website URL" aria-label="Website">
                                        <span class="text-danger" asp-validation-for="CompanyDto.Website"></span>
                                    </div>
                                </div>

                             
                                <div class="row mb-4">
                                    <label for="phoneLabel" class="col-sm-3 col-form-label form-label">Phone</label>
                                    <div class="col-sm-9">
                                        <input type="text" asp-for="CompanyDto.Phone" class="form-control" placeholder="phoneNumber" required>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <label for="locationLabel" class="col-sm-3 col-form-label form-label">Location</label>

                                    <div class="col-sm-9">
                                        <div class="tom-select-custom mb-4">
                                            <select class="js-select form-select" asp-for="CompanyDto.CountryId" autocomplete="off" data-hs-tom-select-options='{"placeholder": "Select Country"}' required>
                                                <option value="0">--- Select Country ---</option>
                                            </select>
                                            <span asp-validation-for="CompanyDto.CountryId" class="invalid-feedback">Country Required</span>
                                        </div>

                                        <div class="mb-4">
                                            <select class="js-select form-select" asp-for="CompanyDto.StateId" autocomplete="off" data-hs-tom-select-options='{"placeholder": "Select State"}' required disabled>
                                                <option value="">--- Select State ---</option>
                                            </select>
                                            <span asp-validation-for="CompanyDto.StateId" class="invalid-feedback">State Required</span>
                                        </div>

                                        <div class="mb-4">
                                            <select class="js-select form-select" asp-for="CompanyDto.CityId" autocomplete="off" data-hs-tom-select-options='{"placeholder": "Select City"}' required disabled>
                                                <option value="">--- Select City ---</option>
                                            </select>
                                            <span asp-validation-for="CompanyDto.CityId" class="invalid-feedback">City Required</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <label for="companyAddressLabel" class="col-sm-3 col-form-label form-label">Address</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" asp-for="CompanyDto.Address" placeholder="Enter company address" aria-label="Address">
                                        <span class="text-danger" asp-validation-for="CompanyDto.Address"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- Footer -->
                            <div class="card-footer d-sm-flex align-items-sm-center">
                                <button type="button" class="btn btn-ghost-secondary mb-2 mb-sm-0" data-hs-step-form-prev-options='{
                            "targetSelector": "#Tenant"
                            }'>
                                    <i class="bi-chevron-left"></i> Previous step
                                </button>

                                <div class="ms-auto">
                                    <button id="addUserFinishBtn" type="button" class="btn btn-primary">Finalize</button>
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    
                    <!--=====================-->
                    <!-- Message Body -->
                    <!--=====================-->
                    <div id="successMessageContent" style="display:none;">
                        <div class="text-center mt-5 pt-5">
                            <img class="img-fluid mb-3" src="~/Template/svg/illustrations/oc-hi-five.svg" alt="Image Description" data-hs-theme-appearance="default" style="max-width: 15rem;">

                            <div class="mb-4">
                                <h2>Please Continue to Signup Suceess!</h2>
                                @* <p>New <span class="fw-semibold text-dark">Ella Lauda</span> user has been successfully created.</p> *@
                            </div>

                            <div class="d-flex justify-content-center">
                                @* <a class="btn btn-white me-3" href="users.html">
                                    <i class="bi-chevron-left ms-1"></i> 
                                </a> *@
                                <button class="btn btn-primary w-25" href="users-add-user.html" type="submit">
                                    <i class="bi-person-plus-fill me-1"></i> Get Started
                                </button>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </form>
        </div>
    </main>
    <script src="~/Template/js/demo.js"></script>
    <script src="~/Template/js/vendor.min.js"></script>
    <script src="~/Template/js/theme.min.js"></script>
    <script>   
        (function () {
            window.onload = function () {

                const form = document.querySelector('.js-step-form-validate');
                form.addEventListener('keydown', function (event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                    }
                });

                HSBsValidation.init('.js-validate', {
                    // onSubmit: data => {
                    //     data.event.preventDefault()
                    //     alert('Submited')
                    // }
                })

                // INITIALIZATION OF STEP FORM
                // =======================================================
                new HSStepForm('.js-step-form-validate', {
                    validator: HSBsValidation.init('.js-validate'),
                    finish($el) {
                        const $successMessageTempalte = $el.querySelector('.js-success-message').cloneNode(true)

                        $successMessageTempalte.style.display = 'block'

                        $el.style.display = 'none'
                        $el.parentElement.appendChild($successMessageTempalte)
                    }
                })

                // INITIALIZATION OF NAVBAR VERTICAL ASIDE
                // =======================================================
                new HSSideNav('.js-navbar-vertical-aside').init()


                // INITIALIZATION OF FORM SEARCH
                // =======================================================
                new HSFormSearch('.js-form-search')


                // INITIALIZATION OF BOOTSTRAP DROPDOWN
                // =======================================================
                HSBsDropdown.init()


                // INITIALIZATION OF FILE ATTACH
                // =======================================================
                new HSFileAttach('.js-file-attach')


                // INITIALIZATION OF STEP FORM
                // =======================================================
                new HSStepForm('.js-step-form-validate', {
                    validator: HSBsValidation.init('.js-validate'),
                    isValidate: true,
                    finish($el) {
                        document.getElementById("addUserStepFormProgress").style.display = 'none'
                        document.getElementById("Tenant").style.display = 'none'
                        document.getElementById("RegisterCompany").style.display = 'none'
                        console.log(document.getElementById("addUserStepFormProgress"))
                        document.getElementById("successMessageContent").style.display = 'block'
                        scrollToTop('#header');
                        const formContainer = document.getElementById('formContainer')
                    },
                    preventNextStep: function (stepInstance) {
                        return new Promise((resolve, reject) => {
                            const username = document.getElementById("ApplicationUserDto_UserName").value;
                            const password = document.getElementById("ApplicationUserDto_Password").value;

                            const usernameInput = document.getElementById("ApplicationUserDto_UserName");
                            const passwordInput = document.getElementById("ApplicationUserDto_Password");

                            const usernameInvalidFeedback = usernameInput.nextElementSibling;
                            const passwordInvalidFeedback = passwordInput.nextElementSibling;

                            // Clear previous validation feedback
                            usernameInvalidFeedback.style.display = 'none';
                            passwordInvalidFeedback.style.display = 'none';
                            usernameInput.classList.remove('is-invalid');
                            passwordInput.classList.remove('is-invalid');

                            const currentStepItem = document.querySelector('#addUserStepFormProgress .step-item.active');
                            currentStepItem.classList.remove('is-invalid');

                            // Fetch request to check both email and password
                            fetch('/Registration/Registration/CheckEmailAndPassword', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({ email: username, password: password })
                            })
                                .then(response => response.json())
                                .then(data => {
                                    if (data.exists || data.passInCorrect) {
                                        if (data.exists) {
                                            usernameInvalidFeedback.textContent = 'Username already exists.';
                                            usernameInput.classList.add('is-invalid');
                                            usernameInvalidFeedback.style.display = 'block';
                                            currentStepItem.classList.add('is-invalid');
                                        }
                                        if (data.passInCorrect) {
                                            passwordInvalidFeedback.textContent = 'Password is incorrect.';
                                            passwordInput.classList.add('is-invalid');
                                            passwordInvalidFeedback.style.display = 'block';
                                            currentStepItem.classList.add('is-invalid');
                                        }
                                        scrollToTop()
                                        reject();
                                    }
                                    else {
                                        resolve();
                                    }
                                })
                                .catch(error => {
                                    console.error('An error occurred:', error);
                                    alert('An error occurred while checking the username and password.');
                                    reject();
                                });
                        });
                    },
                    // preventNextStep: function (stepInstance) {
                    //     return new Promise(function (resolve, reject) {
                    //         const username = document.getElementById("ApplicationUserDto_UserName").value;
                    //         const usernameInput = document.getElementById("ApplicationUserDto_UserName");
                    //         const invalidFeedback = usernameInput.nextElementSibling;

                    //         invalidFeedback.style.display = 'none';
                    //         usernameInput.classList.remove('is-invalid');

                    //         const currentStepItem = document.querySelector('#addUserStepFormProgress .step-item.active');
                    //         currentStepItem.classList.remove('is-invalid');

                    //         $.ajax({
                    //             url: '/Registration/Registration/CheckEmailAndPassword',
                    //             type: 'POST',
                    //             data: { email: username },
                    //             success: function (response) {
                    //                 if (response.exists) {
                    //                     invalidFeedback.textContent = 'Username already exists.';
                    //                     usernameInput.classList.add('is-invalid');
                    //                     invalidFeedback.style.display = 'block';
                    //                     currentStepItem.classList.add('is-invalid');
                    //                     reject();
                    //                 } else {
                    //                     resolve();
                    //                 }
                    //             },
                    //             error: function () {
                    //                 alert('An error occurred while checking the username.');
                    //                 reject(); // Handle error by preventing the step transition
                    //             }
                    //         });
                    //     });
                    // },
                    // onNextStep: function () {
                    //     scrollToTop()
                    // },
                    onPrevStep: function () {
                        scrollToTop();
                    }
                });


                function scrollToTop(el = '.js-step-form-validate') {
                    el = document.querySelector(el)
                    window.scrollTo({
                        top: (el.getBoundingClientRect().top + window.scrollY) - 30,
                        left: 0,
                        behavior: 'smooth'
                    })
                }


                // INITIALIZATION OF ADD FIELD
                // =======================================================
                new HSAddField('.js-add-field', {
                    addedField: field => {
                        HSCore.components.HSTomSelect.init(field.querySelector('.js-select-dynamic'))
                        HSCore.components.HSMask.init(field.querySelector('.js-input-mask'))
                    }
                })


                // INITIALIZATION OF SELECT
                // =======================================================
                HSCore.components.HSTomSelect.init('.js-select', {
                    render: {
                        'option': function (data, escape) {
                            return data.optionTemplate || `<div>${data.text}</div>>`
                        },
                        'item': function (data, escape) {
                            return data.optionTemplate || `<div>${data.text}</div>>`
                        }
                    }
                })


                // INITIALIZATION OF INPUT MASK
                // =======================================================
                HSCore.components.HSMask.init('.js-input-mask')


                // INITIALIZATION OF TOGGLE PASSWORD
                // =======================================================
                new HSTogglePassword('.js-toggle-password')

                //========================= dorpdown select ===================
                // document.getElementById('CompanyDto_CountryId').addEventListener('change', function () {
                //     var countryId = this.value;
                //     var stateSelect = document.getElementById('CompanyDto_StateId');
                //     let tomSelectInstance = stateSelect.tomselect;
                //     tomSelectInstance.clear();
                //     if (countryId) {
                //         fetch(`/Common/DropDown/GetStatesByCountry?countryId=${countryId}`)
                //             .then(response => response.json())
                //             .then(states => {
                //                 tomSelectInstance.clearOptions();
                //                 states.forEach(item => {
                //                     tomSelectInstance.addOption({ value: item.id, text: item.stateProvinceName });
                //                 });
                //                 tomSelectInstance.enable(); // Enable Tom Select instance
                //                 tomSelectInstance.refresh(); 
                //             });
                //     } else {
                //         stateSelect.tomselect.disabled = true;
                //         tomSelectInstance.clearOptions();
                //     }
                // });
                // document.getElementById('CompanyDto_StateId').addEventListener('change', function () {
                //     var stateId = this.value;
                //     var citySelect = document.getElementById('CompanyDto_CityId');
                //     let tomSelectInstance = citySelect.tomselect;
                //     tomSelectInstance.clear();
                //     if (stateId) {
                //         fetch(`/Common/DropDown/GetCitiesByState?stateId=${stateId}`)
                //             .then(response => response.json())
                //             .then(cities => {
                //                 tomSelectInstance.clearOptions();
                //                 cities.forEach(item => {
                //                     tomSelectInstance.addOption({ value: item.id, text: item.cityName});
                //                 });
                //                 tomSelectInstance.enable();
                //                 tomSelectInstance.refresh(); 
                //             });
                //     } else {
                //         citySelect.tomselect.disabled() = true;
                //         let tomSelectInstance = citySelect.tomselect;
                //         tomSelectInstance.clearOptions();
                //     }
                // });
            }
        })()
    </script>
    <script>
        (function () {
            // STYLE SWITCHER
            // =======================================================
            const $dropdownBtn = document.getElementById('selectThemeDropdown') // Dropdowon trigger
            const $variants = document.querySelectorAll(`[aria-labelledby="selectThemeDropdown"] [data-icon]`) // All items of the dropdown

            // Function to set active style in the dorpdown menu and set icon for dropdown trigger
            const setActiveStyle = function () {
                $variants.forEach($item => {
                    if ($item.getAttribute('data-value') === HSThemeAppearance.getOriginalAppearance()) {
                        $dropdownBtn.innerHTML = `<i class="${$item.getAttribute('data-icon')}" />`
                        return $item.classList.add('active')
                    }

                    $item.classList.remove('active')
                })
            }

            // Add a click event to all items of the dropdown to set the style
            $variants.forEach(function ($item) {
                $item.addEventListener('click', function () {
                    HSThemeAppearance.setAppearance($item.getAttribute('data-value'))
                })
            })

            // Call the setActiveStyle on load page
            setActiveStyle()

            // Add event listener on change style to call the setActiveStyle function
            window.addEventListener('on-hs-appearance-change', function () {
                setActiveStyle()
            })
        })()
    </script>
    

    
    <script type="module">
        import { LocationDropdownManager } from '/Frontentjs/Dropdowns/locationdropdownmanager.js';
        const locationDropdownManager = new LocationDropdownManager(
            '/Common/DropDown', // Base URL for the HttpClient
            'CompanyDto_CountryId',
            'CompanyDto_StateId',
            'CompanyDto_CityId'
        );

    </script>

</body>
</html>