@model List<COADto>

<ul class="coa-tree ms-4 list-unstyled">
    @foreach (var coa in Model)
    {
        <li class="mb-2">
            <div class="coa-node-header d-flex align-items-center justify-content-between border p-2 rounded">
                <div class="d-flex align-items-center gap-2">
                    <i class="bi bi-person-circle" style="font-size:20px"></i>
                    <span class="coa-name fw-semibold">@coa.AccountName - @coa.AccountCode</span>
                </div>
                <div class="btn-group" role="group">
                    <!-- CHILD-LEVEL CREATE BUTTON -->
                    <a class="btn btn-white btn-sm" title="Create"
                       onclick="openCreateModal(@coa.CoatypeId,@coa.CoaCategoryId, @coa.Id)"
                       style="padding-left: 10px; padding-right: 8px;">
                        <i class="bi-plus-lg me-1"></i>
                    </a>

                    <!-- EDIT BUTTON -->
                    <a class="btn btn-white btn-sm" href="javascript:void(0)" title="Edit"
                       onclick="openEditModal(@coa.Id, @coa.CoatypeId)"
                       style="padding-left: 10px;padding-right: 8px;">
                        <i class="bi-pencil-fill me-1"></i>
                    </a>

                    <!-- DELETE BUTTON -->
                   @*  <div class="btn-group">
                        <a class="btn btn-white btn-sm dropdown-toggle dropdown-toggle-empty"
                           href="javascript:void(0)"
                           data-bs-toggle="dropdown" aria-expanded="false"
                           style="padding-left: 10px;padding-right: 8px;">
                        </a>
                        <div class="dropdown-menu dropdown-menu-end mt-1">
                            <a class="dropdown-item text-danger" href="javascript:void(0)" title="Delete"
                               onclick="deleteCOA(@coa.Id, @coa.CoatypeId)">
                                <i class="bi-trash dropdown-item-icon"></i> Delete
                            </a>
                        </div>
                    </div> *@
                </div>
            </div>

            <!-- Render deeper children, if any -->
            @if (coa.COADtoList != null && coa.COADtoList.Any())
            {
                @Html.Partial("_CoaChildrenPartial", coa.COADtoList)
            }
        </li>
    }
</ul>
